<main>
    
  <div *ngIf="loading" class="loading">
      <img  src="../../../assets/loading.svg" alt="Carregando">
      <p class="ff-poppins aguarde">AUGUARDE...</p>
  </div>
  
  <div *ngIf="!loading">
      <h1 class="ff-poppins">
          Olá! Veja os amigos disponíveis para adoção!
      </h1>

      <div class="cadastroPet">
          <button class="botaoPostar" routerLink='/postar'>Cadastre um Pet</button>
      </div>
      
      <div class="ff-poppins pet" *ngIf="listPets.length > 0; else semPet">
          <section *ngFor="let pet of listPets">
              <img class="ImagemPet" [src]="getPetImage(pet.imageName) | async" alt="Imagem do Pet">
              <div *ngIf="!showTooltip" class="dados">
                  <h2>{{ pet.petName }}</h2>
                  <p class="perfil">
                      {{ pet.idadePet }}<br>
                      {{ pet.tamanhoPet }}<br>
                      {{ pet.comment }}
                  </p>
                  <button class="botaoExcluir" (click)="excluir(pet.idPost)" ><img src="../../../assets/icone-excluir.png" alt="botão excluir"></button>
                  <p class="location">{{ pet.cidadePet }}</p>
                  <p class="contato" (click)="toggleTooltip()"><img src="../../../../assets/icone_mensagem.svg" aria-hidden="true">Falar com responsável</p>
              </div>
              <div *ngIf="showTooltip" class="tooltip">
                  <p>Entre em contato com {{ pet.usuario.nomeUsuario }}
                  <p>Pelo telefone {{ pet.usuario.telefoneUsuario }}</p>
                  <p>Ou</p>
                  <p>Pelo email {{ pet.usuario.email }}</p>
                  <button (click)="closeTooltip()">Fechar</button>
              </div>
          </section>
      </div>
  </div>
  <ng-template #semPet>
      <p class="erro">Não foi possível carregar os Pets. Tente novamente mais tarde</p>
  </ng-template>
</main>